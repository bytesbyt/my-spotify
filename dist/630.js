"use strict";(self.webpackChunkmy_spotify=self.webpackChunkmy_spotify||[]).push([[630],{7:(e,r,t)=>{t.d(r,{A:()=>i});var n=t(2142),o=(t(6540),t(4848));const i=e=>{let{errorMessage:r}=e;return(0,o.jsx)(n.A,{severity:"error",children:r})}},5630:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Z});var n=t(6540),o=t(6858),i=t(5124),a=t(4164),s=t(1908),c=t(1362);const l=(0,t(3248).Ay)();var p=t(6343),u=t(7498),d=t(7514),m=t(5387);const h=(e,r,t)=>{const n=e.keys[0];var o,i;Array.isArray(r)?r.forEach(((r,n)=>{t(((r,t)=>{n<=e.keys.length-1&&(0===n?Object.assign(r,t):r[e.up(e.keys[n])]=t)}),r)})):r&&"object"==typeof r?(Object.keys(r).length>e.keys.length?e.keys:(o=e.keys,i=Object.keys(r),o.filter((e=>i.includes(e))))).forEach((o=>{if(e.keys.includes(o)){const i=r[o];void 0!==i&&t(((r,t)=>{n===o?Object.assign(r,t):r[e.up(o)]=t}),i)}})):"number"!=typeof r&&"string"!=typeof r||t(((e,r)=>{Object.assign(e,r)}),r)};function f(e){return`--Grid-${e}Spacing`}function y(e){return`--Grid-parent-${e}Spacing`}const x="--Grid-columns",g="--Grid-parent-columns",v=({theme:e,ownerState:r})=>{const t={};return h(e.breakpoints,r.size,((e,r)=>{let n={};"grow"===r&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===r&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof r&&(n={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${g}) - (var(${g}) - ${r}) * (var(${y("column")}) / var(${g})))`}),e(t,n)})),t},w=({theme:e,ownerState:r})=>{const t={};return h(e.breakpoints,r.offset,((e,r)=>{let n={};"auto"===r&&(n={marginLeft:"auto"}),"number"==typeof r&&(n={marginLeft:0===r?"0px":`calc(100% * ${r} / var(${g}) + var(${y("column")}) * ${r} / var(${g}))`}),e(t,n)})),t},b=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={[x]:12};return h(e.breakpoints,r.columns,((e,r)=>{const n=r??12;e(t,{[x]:n,"> *":{[g]:n}})})),t},j=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return h(e.breakpoints,r.rowSpacing,((r,n)=>{const o="string"==typeof n?n:e.spacing?.(n);r(t,{[f("row")]:o,"> *":{[y("row")]:o}})})),t},k=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return h(e.breakpoints,r.columnSpacing,((r,n)=>{const o="string"==typeof n?n:e.spacing?.(n);r(t,{[f("column")]:o,"> *":{[y("column")]:o}})})),t},A=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return h(e.breakpoints,r.direction,((e,r)=>{e(t,{flexDirection:r})})),t},S=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},gap:`var(${f("row")}) var(${f("column")})`}}),$=e=>{const r=[];return Object.entries(e).forEach((([e,t])=>{!1!==t&&void 0!==t&&r.push(`grid-${e}-${String(t)}`)})),r},N=(e,r="xs")=>{function t(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(t(e))return[`spacing-${r}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach((([e,n])=>{t(n)&&r.push(`spacing-${e}-${String(n)}`)})),r}return[]},G=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map((([e,r])=>`direction-${e}-${r}`)):[`direction-xs-${String(e)}`];var M=t(4848);const E=(0,m.A)(),z=l("div",{name:"MuiGrid",slot:"Root"});function O(e){return function({props:e,name:r,defaultTheme:t,themeId:n}){let o=(0,u.A)(t);return n&&(o=o[n]||o),(0,p.A)({theme:o,name:r,props:e})}({props:e,name:"MuiGrid",defaultTheme:E})}var W=t(6739),C=t(3202),R=t(3356);const _=function(e={}){const{createStyledComponent:r=z,useThemeProps:t=O,useTheme:o=u.A,componentName:i="MuiGrid"}=e;function l(e,r,t=()=>!0){const n={};return null===e||(Array.isArray(e)?e.forEach(((e,o)=>{null!==e&&t(e)&&r.keys[o]&&(n[r.keys[o]]=e)})):"object"==typeof e?Object.keys(e).forEach((r=>{const o=e[r];null!=o&&t(o)&&(n[r]=o)})):n[r.keys[0]]=e),n}const p=r(b,k,j,v,A,S,w),m=n.forwardRef((function(e,r){const u=o(),m=t(e),h=(0,d.A)(m);!function(e,r){const t=[];void 0!==e.item&&(delete e.item,t.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,t.push("zeroMinWidth")),r.keys.forEach((r=>{void 0!==e[r]&&(t.push(r),delete e[r])}))}(h,u.breakpoints);const{className:f,children:y,columns:x=12,container:g=!1,component:v="div",direction:w="row",wrap:b="wrap",size:j={},offset:k={},spacing:A=0,rowSpacing:S=A,columnSpacing:E=A,unstable_level:z=0,...O}=h,W=l(j,u.breakpoints,(e=>!1!==e)),C=l(k,u.breakpoints),R=e.columns??(z?void 0:x),_=e.spacing??(z?void 0:A),B=e.rowSpacing??e.spacing??(z?void 0:S),T=e.columnSpacing??e.spacing??(z?void 0:E),q={...h,level:z,columns:R,container:g,direction:w,wrap:b,spacing:_,rowSpacing:B,columnSpacing:T,size:W,offset:C},I=((e,r)=>{const{container:t,direction:n,spacing:o,wrap:a,size:l}=e,p={root:["root",t&&"container","wrap"!==a&&`wrap-xs-${String(a)}`,...G(n),...$(l),...t?N(o,r.breakpoints.keys[0]):[]]};return(0,c.A)(p,(e=>(0,s.Ay)(i,e)),{})})(q,u);return(0,M.jsx)(p,{ref:r,as:v,ownerState:q,className:(0,a.A)(I.root,f),...O,children:n.Children.map(y,(e=>{return n.isValidElement(e)&&(r=e,t=["Grid"],n.isValidElement(r)&&-1!==t.indexOf(r.type.muiName??r.type?._payload?.value?.muiName))&&g&&e.props.container?n.cloneElement(e,{unstable_level:e.props?.unstable_level??z+1}):e;var r,t}))})}));return m.muiName="Grid",m}({createStyledComponent:(0,W.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.container&&r.container]}}),componentName:"MuiGrid",useThemeProps:e=>(0,C.b)({props:e,name:"MuiGrid"}),useTheme:R.A}),B=_;var T=t(7286),q=t(1083),I=t(5800);var L=t(4871);const D=()=>{const e=(()=>{const{data:e}=(0,T.I)({queryKey:["client-credential-token"],queryFn:L.M});return null==e?void 0:e.access_token})();return(0,T.I)({queryKey:["new-relases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await q.A.get("".concat(I.$,"/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("fail to fetch new release")}})(e)}})};var F=t(7996),K=t(7);const P=(0,W.Ay)("button")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.main,border:"none",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.3) 0px 8px 8px 0px","&:focus":{outline:"none"}}})),V=()=>(0,M.jsx)(P,{children:(0,M.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)("path",{d:"M8 5v14l11-7z",fill:"black"})})}),H=(0,W.Ay)("div")((e=>{let{theme:r}=e;return{minWidth:"160px",width:"100%",height:"100%",padding:"12px",borderRadius:"8px","&:hover":{backgroundColor:r.palette.action.hover,transform:"translate3d(0px, 0px, 0px)",transition:"opacity 0.3s ease-in-out"},"&:hover .overlay":{opacity:1}}})),J=(0,W.Ay)("img")({width:"100%",height:"auto",borderRadius:"8px",marginBottom:"8px"}),Q=(0,W.Ay)(i.A)({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),U=(0,W.Ay)("div")({position:"absolute",bottom:"20px",right:"8px",opacity:0,transform:"translate3d(0px, 0px, 0px)",transition:"opacity 0.3s ease-in-out"}),X=e=>{let{name:r,artistName:t,image:n}=e;return(0,M.jsxs)(H,{children:[(0,M.jsxs)("div",{style:{position:"relative"},children:[(0,M.jsx)(J,{src:n}),(0,M.jsx)(U,{className:"overlay",children:(0,M.jsx)(V,{})})]}),(0,M.jsx)(Q,{variant:"h2",children:r||"No name"}),(0,M.jsx)(Q,{variant:"body1",color:"text.secondary",children:t||"No artist"})]})},Y=()=>{const{data:e,error:r,isLoading:t}=D();return t?(0,M.jsx)(F.A,{}):r?(0,M.jsx)(K.A,{errorMessage:r.message}):(0,M.jsxs)("div",{children:[(0,M.jsx)(o.A,{display:"flex",padding:"24px 0",children:(0,M.jsx)(i.A,{variant:"h1",paddingLeft:1,children:"New Released Albums"})}),e&&e.albums.items.length>0?(0,M.jsx)(B,{container:!0,spacing:{xs:.5,sm:1},children:e.albums.items.map((e=>(0,M.jsx)(B,{size:{xs:6,sm:6,md:2},children:(0,M.jsx)(X,{image:e.images[0].url,name:e.name,artistName:e.artists[0].name})},e.id)))}):(0,M.jsx)(i.A,{variant:"h2",children:"No Data"})]})},Z=()=>(0,M.jsx)("div",{children:(0,M.jsx)(Y,{})})}}]);
//# sourceMappingURL=630.js.map?ver=646ae38aab2c454768b4